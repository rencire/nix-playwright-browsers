# Playwright Browser Derivations for Nix

This repository contains Nix derivations for Playwright browsers in multiple versions. It allows
you to use the specific browsers that Playwright needs, independent of your nixpkgs version.

## Why Use This?

- **Flexibility**: Upgrade Playwright independently from nixpkgs, don't be held back or forced to
move in either way.
- **Compatibility**: Maintain consistency with pinned Playwright versions in npm or Python dependencies.
- **Always Up-to-Date**: I will try to keep up with playwright releases.

## How to Use

- As a [recipe](https://archive.fosdem.org/2024/schedule/event/fosdem-2024-3107-units-of-composition-recipes-overlays-and-packages/): 
    ```nix
    browsers = callPackage nix-playwright-browsers.recipes.${system}.v1_47_0
    ```
- As an overlay:
    ```nix
    let
        pkgs = import nipkgs {
            inherit system;
            overlays = [ nix-playwright-browsers.overlays.${system}.default];
        }
    in
    pkgs.playwright-browsers_v1_47_0
    ```
- Use the packages directly:
    ```nix
    nix build github:voidus/nix-playwright-browsers#playwright-browsers_v1_47_0
    ```

## Available Versions

Please run `nix flake show github:voidus/nix-playwright-browsers` to list the available outputs

## Contributing

I'd love this to be a collaborative project. Feel free to jump in!

## Get in Touch

Have questions or suggestions? Open an issue, I'd love to hear from you.

## Dev Notes

The playwright definitions were generated by running
`pkgs/development/python-modules/playwright/update.sh` in nixpkgs and copying over
`pkgs/development/web/playwright`. As such, v1.47.0 works well probably, but others might not.

I'm not sure if this is the best approach, but I'll be using this in two of my projects so I guess
we'll find out.
